# SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
#
# SPDX-License-Identifier: AGPL-3.0-only

overwrite: true
#watch: true
schema:
  - "https://sw-s03.demo.zextras.io/services/files/graphql":
      headers:
        Cookie: "ZM_AUTH_TOKEN=0_bdaf4b0b99048f170609d254fef04970a1f7c9a0_69643d33363a34306437663135622d363866332d343031362d396530392d6130623063653866303433643b6578703d31333a313637303736353531303139323b747970653d363a7a696d6272613b753d313a613b7469643d383a34303137353034383b"
generates:
  src/carbonio-files-ui-common/graphql/schema.graphql:
    plugins:
      - add:
          content: '# THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - schema-ast
  src/carbonio-files-ui-common/types/graphql/types.ts:
    documents:
      - "src/**/*.graphql"
    schema: src/carbonio-files-ui-common/graphql/client-schema.graphql
    plugins:
      - add:
          content:
            - '/* eslint-disable camelcase,no-shadow */'
            - '// THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - typescript
      - typescript-operations
      #- typescript-react-apollo
    config:
      scalars:
        DateTime: number
    hooks:
      afterOneFileWrite:
        - eslint --fix --ext .js,.jsx,.ts,.tsx --resolve-plugins-relative-to node_modules/@zextras/carbonio-ui-configs
  src/carbonio-files-ui-common/types/graphql/possible-types.ts:
    documents:
      - "src/**/*.graphql"
    schema: src/carbonio-files-ui-common/graphql/client-schema.graphql
    plugins:
      - add:
          content: '// THIS FILE IS AUTOGENERATED BY GRAPHQL-CODEGEN. DO NOT EDIT!'
      - fragment-matcher
    hooks:
      afterOneFileWrite:
        - eslint --fix --ext .js,.jsx,.ts,.tsx --resolve-plugins-relative-to node_modules/@zextras/carbonio-ui-configs
